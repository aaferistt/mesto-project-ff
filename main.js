(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}];function t(e){e.classList.toggle("popup_is-opened",!0),document.addEventListener("keydown",r)}function n(e){e.classList.toggle("popup_is-opened",!1),document.removeEventListener("keydown",r)}function r(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&n(t)}}function o(e){(e.target.closest(".popup__close")||e.target===e.currentTarget)&&n(e.currentTarget)}var c=document.getElementById("card-template").content,i=function(e,t){return e.querySelector(t)};function d(e){e.remove()}function a(e){var n=e.name,r=e.link,o=document.querySelector(".popup_type_image"),c=o.querySelector(".popup__image"),i=o.querySelector(".popup__caption");Object.assign(c,{src:r,alt:"Место: ".concat(n)}),i.textContent=n,t(o)}function s(e){e.currentTarget.classList.toggle("card__like-button_is-active")}var u=document.forms["new-place"],p=document.forms["edit-profile"],l=u.elements["place-name"],m=u.elements.link,v=p.elements.name,f=p.elements.description,_=document.querySelector(".popup_type_edit"),y=document.querySelector(".popup_type_new-card"),k=document.querySelector(".profile__edit-button"),g=document.querySelector(".profile__add-button"),h=document.querySelector(".profile__title"),L=document.querySelector(".profile__description"),E=document.querySelector(".places__list");function q(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).prepend,n=void 0!==t&&t,r=function(e,t){var n=e.name,r=e.link,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a,u=c.cloneNode(!0).firstElementChild,p=i(u,".card__image"),l=i(u,".card__title"),m=i(u,".card__delete-button"),v=i(u,".card__like-button");return Object.assign(p,{src:r,alt:"Место: ".concat(n)}),l.textContent=n,m.addEventListener("click",function(){return t(u)}),v.addEventListener("click",o),p.addEventListener("click",function(){return d({name:n,link:r})}),u}(e,d,s,a);n?E.prepend(r):E.append(r)}k.addEventListener("click",function(){v.value=h.textContent.trim(),f.value=L.textContent.trim(),t(_)}),g.addEventListener("click",function(){return t(y)}),p.addEventListener("submit",function(e){e.preventDefault(),h.textContent=v.value.trim(),L.textContent=f.value.trim(),n(_)}),u.addEventListener("submit",function(e){e.preventDefault();var t=m.value.trim();(function(e){try{return new URL(e),!0}catch(e){return!1}})(t)&&(q({name:l.value.trim(),link:t},{prepend:!0}),u.reset(),n(y))}),document.addEventListener("DOMContentLoaded",function(){e.forEach(function(e){return q(e)}),document.querySelectorAll(".popup").forEach(function(e){e.classList.add("popup_is-animated"),e.addEventListener("click",o)})})})();